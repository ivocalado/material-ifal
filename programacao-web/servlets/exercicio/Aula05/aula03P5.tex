\documentclass{article}

\usepackage{graphicx}
\usepackage{listings}
\usepackage{a4wide}
\usepackage[latin1]{inputenc}
%\usepackage[portuges]{babel}
\usepackage[brazil]{babel}
\usepackage{float}

\title{ 
  \begin{center}
  \includegraphics[scale=0.20]{./imagens/ifal-logo.jpg}
  \end{center}
  \normalsize 
  \textbf{Instituto Federal de Alagoas - IFAL \\ Campus Palmeira do Índios \\  Programação Web \\ Prof. Ivo Calado \\}  
}

\begin{document}

\maketitle \scriptsize

\begin{description}

\item 1 - Crie uma aplicação Web dinâmica com o nome de \textit{ServletRedirecionador}.

\item 2 - Crie uma página html, \emph{index.html}, conforme abaixo.
Depois salve a página na pasta raiz da aplicação
Por ultimo, solicite a seguinte url:
\emph{http://localhost:8080/ServletRedirecionador/}

\begin{verbatim}
<HTML>
 <HEAD>
  <TITLE> Página Inicial </TITLE>
 </HEAD>
 <BODY>
    <FORM METHOD="POST" ACTION="./FazerLogin" ALIGN="CENTER">
        <TABLE align="center">
            <TR>
                <TD>
                    Login:<INPUT TYPE="text" NAME="login">
                </TD>
            </TR>
            <TR>
                <TD>
                    Senha:<INPUT TYPE="password" NAME="senha">
                </TD>
            </TR>
            <TR>
                <TD><INPUT TYPE="submit" Value="Fazer Login"></TD>
            </TR>
            </TABLE>
    </FORM>
 </BODY>
</HTML>
\end{verbatim}

\item 3 - Crie uma página html, \emph{logincorreto.html}, conforme abaixo.
Depois salve a página na pasta raiz da aplicação web ServletRedirecionador.

\begin{verbatim}
<HTML>
 <HEAD>
  <TITLE> Seja bem vindo! </TITLE>
 </HEAD>
 <BODY>
  <CENTER><H1>Seja bem vindo!</H1></CENTER>
 </BODY>
</HTML>
\end{verbatim}

\item 4 - Crie uma página html, \emph{acessonegado.html}, conforme abaixo. Depois salve a página na pasta raiz da aplicação web ServletRedirecionador.

\begin{verbatim}
<HTML>
 <HEAD>
  <TITLE> ACESSO NEGADO </TITLE>
 </HEAD>
 <BODY>
  <CENTER><H1>ACESSO NEGADO</H1></CENTER>
 </BODY>
</HTML>
\end{verbatim}

\item 5 - Crie os Servlet's abaixo, adicionando-o à aplicação.

\begin{verbatim}
package web;

import java.io.IOException; import java.io.PrintWriter;

import javax.servlet.RequestDispatcher; import
javax.servlet.ServletException; import
javax.servlet.http.HttpServlet; import
javax.servlet.http.HttpServletRequest; import
javax.servlet.http.HttpServletResponse;

public class ServletRedirecionador extends HttpServlet {
    public void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException, ServletException {
        response.setContentType("text/html");
        PrintWriter printWriter = response.getWriter();
        String login = request.getParameter("login");
        String senha = request.getParameter("senha");
        printWriter.println("Login: " + login);
        printWriter.println("Senha: " + senha);
        if ( (login.compareTo("usuario")==0) && (senha.compareTo("1234")==0)) {
            response.sendRedirect("logincorreto.html");
        }else{
            response.sendRedirect("acessonegado.html");
        }

    }

    public void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException, ServletException {
        response.setContentType("text/html");
        PrintWriter printWriter = response.getWriter();
        printWriter.println("Acesso Negado!");
    }

}

\end{verbatim}

\begin{verbatim}
package web;

import java.io.IOException; import java.io.PrintWriter;

import javax.servlet.RequestDispatcher; import
javax.servlet.ServletException; import
javax.servlet.http.HttpServlet; import
javax.servlet.http.HttpServletRequest; import
javax.servlet.http.HttpServletResponse;

public class ServletRedirecionador2 extends HttpServlet {
    public void doPost(HttpServletRequest request, HttpServletResponse response)
            throws IOException, ServletException {
        response.setContentType("text/html");
        PrintWriter printWriter = response.getWriter();
        String login = request.getParameter("login");
        String senha = request.getParameter("senha");
        printWriter.println("Login: " + login);
        printWriter.println("Senha: " + senha);
        if ( (login.compareTo("usuario")==0) && (senha.compareTo("1234")==0)) {
            RequestDispatcher dispatcher = request.getRequestDispatcher("logincorreto.html");
            dispatcher.forward(request, response);
        }else{
            RequestDispatcher dispatcher = request.getRequestDispatcher("acessonegado.html");
            dispatcher.forward(request, response);
        }

    }

    public void doGet(HttpServletRequest request, HttpServletResponse response)
            throws IOException, ServletException {
        response.setContentType("text/html");
        PrintWriter printWriter = response.getWriter();
        printWriter.println("Acesso Negado!");
    }

}

\end{verbatim}




\item 6 - Solicite a seguinte url:
\emph{http://localhost:8080/ServletRedirecionador/}. E digite o
login ``usuario'' e senha ``1234''.

\item 7 - Altere o arquivo ``index.html''. No atributo
ACTION="./FazerLogin", substitua por ACTION="./FazerLogin2".

\item 8 - Solicite a seguinte url:
\emph{http://localhost:8080/ServletRedirecionador/}. E digite o
login ``usuario'' e senha ``1234''.

\end{description}

\end{document}
